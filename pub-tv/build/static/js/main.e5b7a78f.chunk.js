(window["webpackJsonppub-tv"]=window["webpackJsonppub-tv"]||[]).push([[0],{23:function(t,e,n){t.exports=n.p+"static/media/NatureScenes_TV.6c49ca5a.m4v"},25:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAACqCAYAAAA9dtSCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEQxJREFUeNrsXb1u4zoWPjECbGlPt1tFt9oyvv0C1jzBeKoto3mC8ZQLLHCdJxjdbruxy62u8wSRge2v/QRXfoKV222y4cxhfMLoh5QokZLOBxBJbIempE/f+SF5dPX09ASMQsye2/y5BUoDfH1q2N/5uR3w91Rp4vWMT3k+rpioLwiQfKKFNYnYFJLICf48IImZqCMmqiDmEkkZOiClCXkTbLuxEndsRJXEFD9venoMJySsJC4TdUDklG06sGM7I1l3QyftUIkqzPqq58pZV2njIboHQyNqhG0x8thj/9w22JionmCG5FyNSD1NVDZGwmZMVHcEXWGbMicrfdkYW8ZEZYIyYZmoLz5ozAS14hKs++TD9oWoIRL0ljlmFUe0TAkTtbmZFwS9Y061ii0SNmOispnvg/8qzvmOiaqvouJkLZg7TvCAhM2YqMVYooPPKsrq+goTz3zR35ikXmCK1yLGa8OKCj/m5Xcc0XudGRCWLh0zUdnUsyvgPVFFOuQrc6BX+ILuwGiIKlSUc6P9xBbVddBE5dTTMLBHty0bIlEFSRMOmgYVZIVdkbUrojJJmazeE5VJymT1nqhMUiar90RlkjJZvScqk5TJ2guiCpJyCmqc2CNZraKNRSkbJumosYAWtrjYVtQxTIuK/UYpXKrvZXCp0FeEObpDtDrg0Ld2W51utUlUMVPx2wBJSavrJZb7D+F19cChkfcjWFrIYouoAV7IIayCOqLpSjSU0jYkaaOBBKJnPKbUB6IOIcKX5PSprGOAVioawLltnAmwQVThh3zu6Unc4vgPno9zjv5/X1ec/Yrjd0bUPvqlfS5v0+cqMY381SZEnaGZnDJBmbCa5z+oe+6bEFXcHR96ZOLXMLy6oQEeV19cgge0wp0RtS8m/4TBSALDRojBYB/SW7VcgDpENTH5R/zpImq9R7UZE8Tx/jJEF6DOFKpJmZ0lRqxfcIBdqej7EZJUEvU9ngNfMYUaM1amiipMzKOBXxgp/pQwT22uA/CyHI2jYGvjeQzx3sQlM1VUkzvhDn2RAP9Okehtqes9dLzhzGNkeC7uPR6jmaoKRdVs0VM9ZM9tpfQ1e267JzvIcGzArfC6ZU9+Qvu66Zp+YUoODaPKPZrlVPFhN1A/F3hGlT6wiJZijmbWt5zrCcdWaQV1Tb+NJ44I3/QPJciRrsGWSdoqDniuzp6N6wY0p1Z1FNUkHZXnIMu1mCqSnEBtp/k9TNLhKKtWuupaU011DuzXgihOl0wpK2lnyuoTWafIsXUTRTVR06JZoBBe76FJc0iZgN4+KybpMJW1WlUroq1VjUhuh1G92k/WZZTIrbUsTltYNYn605pBVF49zQCaJfzHOCXaNsT59GXK9QSXnLtR1B81iPRlae28hP+nGtHnA5O0NaI+eJQBWNbxUXV8Rrkjc1GhruKExIrvK9T1g+adppVrY9SCjRy5LRTWBCgiqlDBPzQ6lltiBenuNAYRkUBKN1AzmhNm1IIgx6MnY/kpLwM0KUlJ6WBH3IQvFZ9d4J27JmaniqT3TNJOkIA/6wJWJoqqG0SpK6Qi0FsGeNLov9S5ZrSCusFz60FVnqIuDQZ7hyopZ542oDdVp9N/xLzpHD6c89ygqoioJrhV5FrOfhwbDHbLJt+ZC7D1YBxLHdOfgfmMRZ4DXLcwhbXqGoxaCMB91ZszKOtDJjlMNh3gkZAqIeYjQ8KZ3qExk9S5nxo7HsNUVdVJTprCFBtyJ4rI/hu+NiN+z73BnRQzV5wjBvdLAsMqRa1L1CgnyJrj32v4MSOlc4I4se8emQeCsSzyUYUi6iT5f9IwzSE5YLnSSZD294r/e8dE9QbCIv7X8RheuDYxVNO9pv+YwNuyjVWTCFsmqXeq6joD8MLJa0P/9AD167NX3Qjsm/rpq7osFxRKXlDTXyctZQtH4s8y/IIQJ1f1WV/SVBPin7rMm22YD97C5bWZIjdfiOpazXbMB2/h+trMfSHqETjB7zNSaDYdbpWooeXOhW9x9dx+xkwBm302/00CKiNFNbmrDsrPMiTMA+/h8hrNZdSvm9iVyfgAWwiXh3upUSF9uEDZ7kFec9ovF8DVWtV315pqeoJLMj7FluQwP4DLnnHQICHvz+8PXO6rml8bKNoKB3uA/Bkk+d5OlW02+4Mx/67qrQa6RBV30lclWJLETEsIPNe4Sxn9UVTwnagqRCJ2AW+3Sctnhy5ZUTmgsknUieVgRigvXZkdVPi9jH7h5JKobZqI24ooktG/yN8JJmB/VurA/in7qW1E/bYXo6zhbQn0PPDa0/7B1TWbXrfQ6Q22BROViWrT9I/NjDB6eM1MFVUsMNnlDDgpcAF+4WvL6JqosnIfg+EtUX/VIGmo/B3w6WV0TVRJ0j48Y5MxQOgEU3SLdMwkZfQh6mdzzugFUVM+ZQxfibqAy0ITsSZVZ0vKXuNzvI+/f5j7TFRJUAFZSvKqooVQXcJnxte9d5i5JKpOeUGRuI+GctCM3l2zs0hPHUDvaXqi7qlYEL2B8jnfGVz2T7HpZ9NvAwfTKdQPYC89xRmE/sHZNZs4jORv+Lr3Dq6uWeqSqAD2K7QwhnmtrBNVBGbiIbBiAYso51NVu5/9VPZPtYh63ZCogpgJ5FeYphmDsruUV2SxolYS1aSkj8ReIWcVygoEc0mf/iB16KO+kxWndapNi6eabCo+I5L8IoX11+f2F3xtV5Ep+Bl4tX8fzP7vjr77e9VpOTNVlyhSDf8OP4qhiWoqIif75+f2N3yvSnU5oGKzX4bv3JxokkkOVrQ1fl4QM8L3/p3z+Uiz74h54D1cXqPv/JGmX5jr3ww7OCJx5SyV8HNnii8r78Snir50nl3FcANhNf9w+P0fhftY1/SrJBX4F/n9f8/tn4p7UIYl88FbuL42r0x/CvrPvjyjKcgU/+UfSEqRQ/3Tc/uPgdlg889mv4hrKSWqrp96RmJKBV5jVC+TwSLdFCvR4kqj31vg5L+v0f6tw+9/4aQpUemzTcWdJpL5U7g8/nxGzL0MunRLBq2YF97B9TV54WTdh/YKQraRV+OH9voDbx/am4Je/csV1Cvqutfwg1lVWU2BuJFpnukH0HtK22cwqwAoCPoe9Ob1V8Ar/31RU9dEfcXFSZFPYAFblO6Q9BtXqOqUVdUbNZ06HsMrLlIflQZM04YEXUNxAn8N5SuqzhhtpswXJwgwYHZJ1LNqWSdVkltDQSOFZPLvCP/eVPQzRTIz3GDtgZq+4WCeoppMp56ReHGBAorXbohzHBCy3lX0/R74qSldQ7hpjx6M46NK1jyiqgQrQt406gyVMy4gpFwqKAhblQrjtardQ+e6dxHtv7nuE13pzcGt4kdIv/QrMfPrHLMiT8i2ov8bdgE6N/k+bLjM5V6RouoonvRLI0Mz/xFVWJwYnXoCvLB6PCYfoGAlXRFRZXpgYdCxIOw3DTN/NnTWT5gF4BmrdjADtw/kpaBLQ7VMP4D+prs1Uc6T8nqQY75NI8objUwBoz424E+NhULOlSmqiXNdpKo2cc8+ayt+qS8PBCkNnid1Ga6pqjbRRqG2MSMCv55aU8q1KkWdoVJWmesz3g0BfuGipYNR18My6mEOZksw24bkT1ZXUTNNVZ0ieX5vkaTyexLgRdZDIqlU06yJopqoatd3ICvrMEhaqaY6imqiqjZSE3tW1lGRVEtNdRVVqmpbubYHeL1ZcIbB2WdW1sGTVDtHrlvDP4N2UkNivcBSGaj4XayH/GSgrJwNKI/ufSQpIKe0JnJ0FVVCKJfNXYm0nlUIrzcPClTVraLgPGs+EXx9cPLRxHUzJaogk805YbqU74n4qiExWSabCFU3Yqzow6NAjZZxmj4QTXS8bTA4dRtKUPIe1PA9P+D/hCMmqfTZfSbpFgzXGk9qfMkK9Kuq5J3ET4r/RKM/Sd5ZDpF1cYOqP0Y3YI3H7vPzEc5QZ1+cMP012vLJHAfy/zF5PcTXAvJagq+tn5ohJf0PuYV4rH3Ass4xTmreFTv0B00DMZouoQotkBK3YoGmoWkgINV1A8PcLRDgsfmuojSGqLUnb9LgSyNDFyBQUlDUr6Q+MBCy2sId3ihrGEbdAJlrPkD13jOfTH5U959No34VpnVV5XJAWTxtrvikZVmFI96NB7gsgBEHPq1xwmLQnBHxkKAr8GPfvSk+Qv0dzmDDP4oN/JOkRl9VfmYTP3bz3OY98EHnONa+Im56DpoqqrzLhcnWnQjYFpiAvGm+vJ2uRW5IkwXbR/T1duBP4YsALVYEbks/NoXuNWxdUWXEnhlG45F4dBC2Vc7/Z/gejWwTRZ2pGq4s3f0H7GvuSDlXOIYhIENugA+KWtdfrcIXklstU0y6SzW1HP2esO+E/LSdnJ+Tn0N7Pmwzv9RiMJU3GfDVUl+yVmoA5bWQ6JSrze8vI2+KY8rg7foEKHBrZvD6EfFDf2gxFRrviAqgV66nCqbkuyrIGuyRVHfA6BJbsLyirQ2iynzowhJRdVZQ7Ulgd5uTDgsw77jsYVqnbyjcm98Ek5YGu8RozwZ0ovAFNkrSB/K/Kd7hgrD30N5O2bFDri+GvhA1w7uqLlnpFGtdZzxW0ldyXGsk7CcmrIdpqI6J2pSsU3j9iMptjZOWEHX/hqpKS69vlP85M9f8JGmbPiqF6YQAja7pfpqImO+0wgemOwdUf1nWdD3A21pZ8plZj8w9f0jaFVGbkLXsJBQFWbQ0jPip+xxPWkVO7fsEl12vtmaJ9njDpCRj0bc5/E5I2iVRmyprBG+T7RHkTwKo+bsAP1tGArVmvNr3AwkSRN+fle87wCVXqkJ8/12J4qvnyJfKet6Q9Ds6niKcKdOgpougY1yEsi6YZqTTrrOc744KFhjvcj5LsSLvqeOvWpgdlvQ1w/fnJZ/3EUnO+W21XXd8F8oAawPmSfgbqN7rvyF3+BpVMCavbyB/i8ohZ5xHov4HJRWmflaq4bwig0GDOHURjixw7HtRDevJfB8VFVpYREIREKXKFKWNS5YEhsoCG3V8ZWpnooRpy8ffNlau+OJ6neXScNVV1drSuiSYEbLFyh6upKJfU5NNXZNNT/Y6ZXX3OtlqE8dmRKaDbMxibZRk/0fQq2V1JOZ7ToKmFN+jZj+0MM4VcRlkuu0Ksw66Y+46aJqDpVVQfTT9avASW7jr1znrH6tWx1Ml3iguRKwoSVqiqDIwUlse1hXBSOTRyvyZDxzpMj2lgyUq49SCwx/nqOFjxeRAikGbTHHJCYe0JCd7VaUFFbnUhHz3jqh7Au3Wmi2D3Ii384UYvhFVRs8bsFPpY49RfpKT/5SQC6/p8+nz6iIVLQy/UvK1Kn4xHG9IXISvDs6/l2WRrsE/ZEgKG+q6QBU9FSTjz0R1qf95C5epWl3/NDAk5RHHdKP0oaa9RquiFBPwFzu8cFsLfd0UEP5Qku8MK/KhTQhxhf3NSfCkLpELOzzXWzzXO1/J4KPpz0OIptv2bswTqnaS0/+DQpyiE3VFiBznqGzedGjVNg2hbN86OK9HdDES7xnQsxpLUcd5x5lGjlSnLpRu8nxmod6WyS7g3lz7viiqGmx1VS1E+rBZSXB3pWENHiv6pz5128fTyyoxfSSqC8JWRepV43RdQKLPZYx6T1RKhAgJO/QtyHV8cLoop7cYAlHVICQCd4lyX7BHgu6GckBDIyqNtlcYtY9FZU9ITEHQdGgHN1SiUixJG9qe/jOSczck9RwrUVXShj1XWqmcydDJOWaiqu6BJG7osdqekZSSmOkYL9aYiZpHXDmtGeLPqQNS0uqBh7ESk4lqBlp9jzaoSWSa4E+VJicWGDn4vwADAGPN2AZqWH1PAAAAAElFTkSuQmCC"},26:function(t,e,n){t.exports=n(51)},32:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(21),i=n.n(r),c=(n(31),n(32),n(4)),s=n(5),l=n(7),d=n(6),u=n(2),h=n(8),m=n(22),p=n.n(m),v=(n(50),n(23)),f=n.n(v),g=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"Intro"},a.a.createElement("video",{autoPlay:"autoplay",muted:!0,onEnded:this.props.onIntroEnded},a.a.createElement("source",{src:f.a,type:"video/mp4"})))}}]),e}(a.a.Component),S=n(53),V=n(54),I=n(55),q=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(d.a)(e).call(this))).changeSingleContent=t.changeSingleContent.bind(Object(u.a)(t)),t.state={constructedContent:[],intervalId:0},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this;console.log("Grid component mounted!"),console.log(this.props.contentArray);var e=[];if(this.props.contentArray.length>0){for(var n=0;n<9;n++){var o=this.props.contentArray[Math.floor(Math.random()*(this.props.contentArray.length-1))];console.log("pushed "+o),e.push(o)}e[Math.floor(Math.random()*(e.length-1))]="spinner";for(var a=0;a<2;a++){e[Math.floor(Math.random()*(e.length-1))]="green"}this.setState({constructedContent:e},function(){console.log("Finished setting initial content.")})}var r=setInterval(function(){t.changeSingleContent()},1e3);this.setState({intervalId:r})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"changeSingleContent",value:function(){var t=this.state.constructedContent,e=Math.floor(Math.random()*(t.length-1)),n=Math.floor(7*Math.random());if(n<5){var o=Math.floor(Math.random()*(this.props.contentArray.length-1));t[e]=this.props.contentArray[o]}else 5===n?t[e]="spinner":6===n&&(t[e]="green");this.setState({constructedContent:t})}},{key:"renderSingleContent",value:function(t){return t.endsWith(".jpg")?(console.log("Render "+t),a.a.createElement("img",{src:"/content/"+t})):t.endsWith(".mp4")?a.a.createElement("video",{autoPlay:"autoplay",muted:!0},a.a.createElement("source",{src:"/content/"+t,type:"video/mp4"})):"spinner"===t?a.a.createElement("div",{className:"spinner"},a.a.createElement("div",{className:"spinner-inner"},a.a.createElement(S.a,{animation:"border",variant:"light"}))):a.a.createElement("div",{className:"green"})}},{key:"renderContent",value:function(t){var e=this,n=Math.ceil(t.length/3);console.log("Number of rows: "+n);return a.a.createElement("div",null,Array(n).fill().map(function(n,o){return a.a.createElement(V.a,{key:o},t.slice(3*o,3*o+3).map(function(t,n){return a.a.createElement(I.a,{key:n},e.renderSingleContent(t))}))}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"Grid"},this.renderContent(this.state.constructedContent))}}]),e}(a.a.Component),C=n(25),y=n.n(C),b=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(d.a)(e).call(this))).cycleContent=t.cycleContent.bind(Object(u.a)(t)),t.state={constructedContent:[],contentIndex:0,intervalId:0},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=[],n=[],o=[];this.props.contentArray.forEach(function(t){t.endsWith(".mp4")?o.push(t):t.endsWith(".jpg")&&n.push(t)}),console.log("Video content: "),console.log(o),console.log("Image content: "),console.log(n);for(var a=0;a<10;a++){if(0===Math.floor(2*Math.random())){var r=Math.floor(Math.random()*(o.length-1));o[r]?e.push(o[r]):console.log("WARNING: chose video but no videos were found!")}else{var i=Math.floor(Math.random()*(n.length-1));if(n[i].includes("@"))for(var c=n[i].substr(0,n[i].indexOf("@")),s=0;s<5;s++){var l=c+"@"+s+".jpg";n.includes(l)&&e.push(l)}else e.push(n[i])}}this.setState({constructedContent:e},function(){console.log(t.state.constructedContent),t.cycleContent()})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.intervalId)}},{key:"cycleContent",value:function(){var t=this,e=this.state.constructedContent[this.state.contentIndex],n=0;console.log("Current URL: "+e),e.endsWith(".jpg")?(console.log("Current URL is an image."),n=e.includes("@")?setTimeout(function(){t.state.contentIndex>=t.state.constructedContent.length-1?t.setState({contentIndex:0,intervalId:n},function(){console.log("End slideshow!"),t.props.onSlideshowEnd()}):t.setState({contentIndex:t.state.contentIndex+1,intervalId:n},function(){console.log("Cycling content..."),t.cycleContent()})},2e3):setTimeout(function(){t.state.contentIndex>=t.state.constructedContent.length-1?t.setState({contentIndex:0,intervalId:n},function(){console.log("End slideshow!"),t.props.onSlideshowEnd()}):t.setState({contentIndex:t.state.contentIndex+1,intervalId:n},function(){console.log("Cycling content..."),t.cycleContent()})},5e3)):e.endsWith(".mp4")&&(n=setTimeout(function(){t.state.contentIndex>=t.state.constructedContent.length-1?t.setState({contentIndex:0},function(){t.props.onSlideshowEnd()}):t.setState({contentIndex:t.state.contentIndex+1,intervalId:n},function(){t.cycleContent()})},15e3),this.setState({intervalId:n}))}},{key:"renderContent",value:function(t){if(t){if(t.endsWith(".jpg"))return a.a.createElement("img",{src:"/content/"+t});if(t.endsWith(".mp4"))return a.a.createElement("video",{autoPlay:"autoplay",muted:!0},a.a.createElement("source",{src:"/content/"+t,type:"video/mp4"}))}}},{key:"render",value:function(){return a.a.createElement("div",{className:"Slideshow"},this.renderContent(this.state.constructedContent[this.state.contentIndex]),a.a.createElement("img",{className:"logo",src:y.a}))}}]),e}(a.a.Component),E=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(d.a)(e).call(this))).onIntroEnded=t.onIntroEnded.bind(Object(u.a)(t)),t.onGridTimeout=t.onGridTimeout.bind(Object(u.a)(t)),t.onSlideshowTimeout=t.onSlideshowTimeout.bind(Object(u.a)(t)),t.state={mode:0,gridContent:[]},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"onIntroEnded",value:function(){var t=this;0===this.state.mode&&p.a.get("/api/content").then(function(e){t.setState({gridContent:e.data,mode:1},function(){setTimeout(function(){t.onGridTimeout()},2e4)})})}},{key:"onGridTimeout",value:function(){1===this.state.mode&&this.setState({mode:2})}},{key:"onSlideshowTimeout",value:function(){2===this.state.mode&&window.location.reload()}},{key:"renderView",value:function(){return 0===this.state.mode?a.a.createElement(g,{onIntroEnded:this.onIntroEnded}):1===this.state.mode?a.a.createElement(q,{contentArray:this.state.gridContent}):2===this.state.mode?a.a.createElement(b,{contentArray:this.state.gridContent,onSlideshowEnd:this.onSlideshowTimeout}):void 0}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"AppContainer"},this.renderView()))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.e5b7a78f.chunk.js.map